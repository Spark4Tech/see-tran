<div class="space-y-2">
{% for p in products %}
  <div id="product-{{ p.id }}" class="p-3 bg-slate-800 border border-slate-700 rounded">
    <div class="flex items-center justify-between">
      <div class="flex-1" hx-get="/api/products/{{ p.id }}/details" hx-target="#product-details" hx-trigger="click">
        <div class="text-sm text-white font-medium">{{ p.name }}</div>
        <div class="text-xs text-slate-400">Vendor: {{ p.vendor.name if p.vendor else 'n/a' }}</div>
      </div>
      <div class="flex items-center space-x-2 ml-4">
        <button class="text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 rounded"
                hx-get="/api/products/{{ p.id }}/form" hx-target="#product-form-container" hx-swap="innerHTML">Edit</button>
        <button class="text-xs px-2 py-1 bg-red-600 hover:bg-red-500 rounded text-white"
                hx-delete="/api/products/{{ p.id }}" hx-target="#product-list" hx-swap="outerHTML"
                hx-confirm="Delete this product? This cannot be undone.">Delete</button>
      </div>
    </div>
  </div>
{% else %}
  <div class="text-slate-500 text-sm">No products found.</div>
{% endfor %}
</div>
<div id="product-details" class="mt-4"></div>
<div id="product-form-container" class="mt-3"></div>
